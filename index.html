<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Galactic Command Dashboard</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
</head>
<body>

<!-- Dashboard -->
<div class="dashboard-container hidden" id="dashboard">
  <header>
    <img src="assets/logo.svg" alt="Galactic Logo" class="logo" />
    <h2>Welcome, Commander <span id="commander-name"></span></h2>
    <button id="logout-button">Logout</button>
    <button onclick="downloadCrewLog()">Download Mission Log</button>
  </header>

  <!-- Control Panel - Netflix style tabs -->
  <nav class="control-nav">
    <button class="tab" data-tab="overview">Mission Overview</button>
    <button class="tab" data-tab="intel">Behavioral Intel</button>
    <button class="tab" data-tab="profiles">Crew Profiles</button>
    <button class="tab" data-tab="settings">System Settings</button>
    <button class="tab" data-tab="space-weather">Space Weather</button>
    <audio id="beep-sound" src="assets/click-beep.mp3" preload="auto"></audio>
    <audio id="access-sound" src="assets/access-granted.mp3" preload="auto"></audio>
  </nav>

  <!-- Sensor Alerts Section -->
  <div id="sensor-alerts">
    <h4>Sensor Readings:</h4>
    <div id="sensor-status"></div>
  </div>

  <!-- Main Panels -->
  <main>
    <section id="overview" class="panel active">
      <h3>Mission Status</h3>
      <p>Systems nominal. Galaxy scanning in progress...</p>
    </section>
    
    <section id="profiles" class="panel">
      <h3>Crew Member Profiles</h3>
      <div id="profile-cards" class="profile-grid"></div>
    </section>

    <section id="intel" class="panel">
  <h3>Behavioral Intel</h3>
  <p>Analyze behavior using real-time dashboards and AI systems</p>

  <!-- Tool Tabs -->
  <div class="intel-tab-bar">
    <button class="intel-tool-tab active" data-tab="analytics-overview">Overview</button>
    <button class="intel-tool-tab" data-tab="analytics-ga">Google Analytics</button>
    <button class="intel-tool-tab" data-tab="analytics-mixpanel">Mixpanel</button>
    <button class="intel-tool-tab" data-tab="analytics-amplitude">Amplitude</button>
    <button class="intel-tool-tab" data-tab="analytics-hotjar">Hotjar</button>
    <button class="intel-tool-tab" data-tab="analytics-heatmaps">Heatmaps</button>
  </div>

  <!-- Search Input -->
  <div class="intel-search">
    <input type="text" id="analytics-search" placeholder="Search user activity, campaign, event..." />
    <button onclick="searchAnalytics()">Search</button>
  </div>

  <!-- Tool Panels -->
  <div class="intel-tab-content">
    <div id="analytics-overview" class="intel-tab-panel active">
      <p>Select a tool above to begin your analysis. You can also search for metrics across all tools.</p>
    </div>
    
    <div id="analytics-ga" class="intel-tab-panel">
      <iframe src="https://analytics.google.com/analytics/web/" width="100%" height="600px"></iframe>
    </div>

    <div id="analytics-mixpanel" class="intel-tab-panel">
      <iframe src="https://mixpanel.com/report/" width="100%" height="600px"></iframe>
    </div>

    <div id="analytics-amplitude" class="intel-tab-panel">
      <iframe src="https://analytics.amplitude.com/" width="100%" height="600px"></iframe>
    </div>

    <div id="analytics-hotjar" class="intel-tab-panel">
      <iframe src="https://insights.hotjar.com/" width="100%" height="600px"></iframe>
    </div>

    <div id="analytics-heatmaps" class="intel-tab-panel">
      <iframe src="https://insights.hotjar.com/heatmaps" width="100%" height="600px"></iframe>
    </div>
  </div>
</section>


  <!-- Tab Content -->
  <div class="intel-tab-content active" id="overview-intel">
    <h4>AI Personality Matrix</h4>
    <div class="intel-slider">
      <div class="intel-card">Curiosity</div>
      <div class="intel-card">Risk-Taking</div>
      <div class="intel-card">Leadership</div>
      <div class="intel-card">Stress Resistance</div>
    </div>

    <h4>Skill Set Radar</h4>
    <div class="intel-slider">
      <div class="intel-card">Hacking</div>
      <div class="intel-card">Piloting</div>
      <div class="intel-card">Engineering</div>
      <div class="intel-card">Negotiation</div>
    </div>

    <h4>Recent Decisions</h4>
    <div class="intel-slider">
      <div class="intel-card">Initiated Protocol Delta</div>
      <div class="intel-card">Bypassed Firewall</div>
      <div class="intel-card">Authorized Jump Drive</div>
      <div class="intel-card">Refused Mission Override</div>
    </div>

    <h4>Analyze a Crew Member</h4>
    <div class="intel-input">
      <input type="text" id="intel-name" placeholder="Enter Crew Name..." />
      <button onclick="analyzePersonality()">Analyze</button>
    </div>
    <div id="trait-matrix" class="trait-matrix"></div>
  </div>

  <div class="intel-tab-content" id="google-analytics">
    <h4>Google Analytics</h4>
    <!-- Embed example GA Dashboard or tutorial -->
    <p>Use your GA4 Measurement ID and embed visual reports from GA interface or custom API visualizations.</p>
    <code>Example Script Snippet:</code>
    <pre>&lt;script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"&gt;&lt;/script&gt;
&lt;script&gt;
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'GA_MEASUREMENT_ID');
&lt;/script&gt;</pre>
  </div>

  <div class="intel-tab-content" id="mixpanel">
    <h4>Mixpanel Analytics</h4>
    <pre>&lt;script type="text/javascript"&gt;
  (function(f,b){
    if(!b.__SV){var e,g,i,h;window.mixpanel=b;b._i=[];b.init=function(e,f,c){
      function g(a,d){
        var b=d.split(".");
        2==b.length&&(a=a[b[0]],d=b[1]);
        a[d]=function(){
          a.push([d].concat(Array.prototype.slice.call(arguments,0)))
        }
      }
      var a=b;"undefined"!==typeof c?a=b[c]=[]:c="mixpanel";
      a.people=a.people||[];a.toString=function(a){var d="mixpanel";"mixpanel"!==c&&(d+="."+c);
      a||(d+=" (stub)");return d};
      a.people.toString=function(){return a.toString(1)+".people (stub)"};
      i="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
      for(h=0;h<i.length;h++)g(a,i[h]);
      b._i.push([e,f,c])
    };
    b.__SV=1.2;e=f.createElement("script");
    e.type="text/javascript";e.async=!0;e.src="https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";
    g=f.getElementsByTagName("script")[0];g.parentNode.insertBefore(e,g)
  }})(document,window.mixpanel||[]);
  mixpanel.init("YOUR_TOKEN");
&lt;/script&gt;</pre>
  </div>

  <div class="intel-tab-content" id="amplitude">
    <h4>Amplitude Analytics</h4>
    <pre>&lt;script type="text/javascript"&gt;
  (function(e,t){var n=e.amplitude||{_q:[],_iq:{}};var r=t.createElement("script")
  ;r.type="text/javascript";r.async=true;
  r.src="https://cdn.amplitude.com/libs/amplitude-8.5.0-min.gz.js";
  r.onload=function(){
    if(e.amplitude.runQueuedFunctions){
      e.amplitude.runQueuedFunctions()
    }else{
      console.log("[Amplitude] Error: could not load SDK")
    }
  };
  var i=t.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i);
  function s(e,t){
    e.prototype[t]=function(){
      this._q.push([t].concat(Array.prototype.slice.call(arguments,0)));return this
    }
  }
  var o=function(){this._q=[];return this};
  var a=["add","append","clearAll","prepend","set","setOnce","unset"];
  for(var c=0;c<a.length;c++){s(o,a[c])}n.Identify=o;
  var u=function(){this._q=[];return this};
  var l=["setProductId","setQuantity","setPrice","setRevenueType","setEventProperties"];
  for(var p=0;p<l.length;p++){s(u,l[p])}n.Revenue=u;
  var d=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut",
  "setVersionName","setDomain","setDeviceId","enableTracking","setGlobalUserProperties",
  "identify","clearUserProperties","setGroup","logRevenueV2","regenerateDeviceId",
  "groupIdentify","onInit","logEventWithTimestamp","logEventWithGroups","setSessionId",
  "resetSessionId"];
  function v(e){
    function t(t){
      e[t]=function(){
        e._q.push([t].concat(Array.prototype.slice.call(arguments,0)))
      }
    }
    for(var n=0;n<d.length;n++){t(d[n])}
  }
  v(n);
  e.amplitude=n;
})(window,document);

amplitude.getInstance().init("AMPLITUDE_API_KEY");
&lt;/script&gt;</pre>
  </div>

  <div class="intel-tab-content" id="hotjar">
    <h4>Hotjar</h4>
    <iframe src="https://insights.hotjar.com/sites/XXXXX/dashboard" width="100%" height="600" frameborder="0"></iframe>
  </div>

  <div class="intel-tab-content" id="heatmaps">
    <h4>Heatmap Sample</h4>
    <iframe src="https://example.com/embed/heatmap" width="100%" height="600" frameborder="0"></iframe>
  </div>
</section>



    <section id="settings" class="panel">
      <h3>System Settings</h3>
      <p>API Integration Coming Soon...</p>
    </section>
    
    <section id="space-weather" class="panel">
      <h3>Space Weather & Star Map</h3>
      <div class="weather-info">
        <p><strong>Solar Flare Activity:</strong> <span id="solar-flare">Loading...</span></p>
        <p><strong>Geomagnetic Index:</strong> <span id="geomagnetic">Loading...</span></p>
      </div>
      <canvas id="star-map" width="600" height="400"></canvas>
    </section>
  </main>
</div>

<!-- Visualizer -->
<canvas id="visualizer"></canvas>

<script>
// Initialize the dashboard
function initializeDashboard() {
  const commanderName = "Commander X";  // This should come from a real authentication system
  document.getElementById('commander-name').innerText = commanderName;
  document.getElementById('dashboard').classList.remove('hidden');
}

// Handle Tab Navigation
const tabs = document.querySelectorAll('.tab');
tabs.forEach(tab => {
  tab.addEventListener('click', () => {
    const activeTab = tab.getAttribute('data-tab');
    document.querySelectorAll('.panel').forEach(panel => {
      panel.classList.remove('active');
      if (panel.id === activeTab) {
        panel.classList.add('active');
      }
    });
    playSound('beep-sound');
  });
});

// Handle Log Out
document.getElementById('logout-button').addEventListener('click', () => {
  alert('Logging out...');
  // Add real logout logic here
});

// Handle Crew Log Download
function downloadCrewLog() {
  const log = 'Mission Log...';  // Replace with real data
  const blob = new Blob([log], { type: 'text/plain' });
  const link = document.createElement('a');
  link.href = URL.createObjectURL(blob);
  link.download = 'mission-log.txt';
  link.click();
}

// Handle AI Personality Analysis
function analyzePersonality() {
  const crewName = document.getElementById('intel-name').value;
  if (crewName) {
    // Simulate AI Personality Matrix for now
    const traits = ['Curiosity', 'Risk-Taking', 'Leadership', 'Stress Resistance'];
    const traitMatrix = document.getElementById('trait-matrix');
    traitMatrix.innerHTML = traits.map(trait => `<div class="trait">${trait}</div>`).join('');
    playSound('access-sound');
  }
}

// Display Sensor Data
function updateSensorData() {
  const sensorData = "Sensor systems online.";  // Simulated data
  document.getElementById('sensor-status').innerText = sensorData;
}

// Display Space Weather
function updateSpaceWeather() {
  // Simulate space weather data
  document.getElementById('solar-flare').innerText = "High";
  document.getElementById('geomagnetic').innerText = "Storm Level 3";
  
  // Star Map (simple placeholder, can be enhanced)
  const canvas = document.getElementById('star-map');
  const ctx = canvas.getContext('2d');
  ctx.fillStyle = 'white';
  ctx.fillRect(0, 0, canvas.width, canvas.height);  // Just a placeholder
}

// Helper function to play sound
function playSound(id) {
  const sound = document.getElementById(id);
  sound.play();
}

// Initialize visualizer (optional)
function initializeVisualizer() {
  const canvas = document.getElementById('visualizer');
  const ctx = canvas.getContext('2d');
  ctx.fillStyle = 'green';
  ctx.fillRect(0, 0, canvas.width, canvas.height);  // Placeholder for visualizer
}

// Call the initialization functions
initializeDashboard();
updateSensorData();
updateSpaceWeather();
initializeVisualizer();
</script>
    <script>
  // Behavioral Intel Tab Handler
  const intelTabButtons = document.querySelectorAll('.intel-tab-button');
  const intelTabContents = document.querySelectorAll('.intel-tab-content');

  intelTabButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      const tabId = btn.getAttribute('data-intel-tab');

      intelTabButtons.forEach(b => b.classList.remove('active'));
      intelTabContents.forEach(c => c.classList.remove('active'));

      btn.classList.add('active');
      document.getElementById(tabId).classList.add('active');
    });
  });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

</body>
</html>
